@using SpeedwayCenter.Helpers
@model SpeedwayCenter.Models.Entity_Framework.Rider

@{
    ViewBag.Title = "Edit";
}
<div class="col-sm-offset-3 col-sm-6">
    @using (Html.BeginForm("Edit", "Speedway", FormMethod.Post, new { enctype = "multipart/form-data" }))
    {
        if (ViewData.ModelState.IsValid)
        {
            @Html.HiddenFor(rider => rider.Id)
            @Html.HiddenFor(rider => rider.Image)
            <div class="form-group input-group-sm has-feedback">
                @Html.LabelFor(model => model.FirstName)<br/>
                @Html.EditorFor(model => model.FirstName, new {htmlAttributes = new {@class = "form-control"}})
                @Html.ValidationMessageFor(m => m.FirstName)
                <span class="glyphicon glyphicon-remove form-control-feedback"></span>
            </div>
            <div class="form-group input-group-sm has-feedback">
                @Html.LabelFor(model => model.LastName)
                @Html.EditorFor(model => model.LastName, new {htmlAttributes = new {@class = "form-control"}})
                @Html.ValidationMessageFor(m => m.LastName)
                <span class="glyphicon glyphicon-remove form-control-feedback"></span>
            </div>
            <div class="form-group input-group-sm has-feedback">
                @Html.LabelFor(model => model.BirthDate)
                @Html.EditorFor(model => model.BirthDate, new {htmlAttributes = new {@class = "form-control datepicker"}})
                @Html.ValidationMessageFor(m => m.BirthDate)
                <span class="glyphicon glyphicon-remove form-control-feedback"></span>
            </div>
            <div class="form-group input-group-sm has-feedback">
                @Html.LabelFor(model => model.Country)
                @Html.EditorFor(model => model.Country, new {htmlAttributes = new {@class = "form-control"}})
                @Html.ValidationMessageFor(m => m.Country)
                <span class="glyphicon glyphicon-remove form-control-feedback"></span>
            </div>
            <div class="form-group input-group-sm">
                @Html.LabelFor(model => model.Image)
                <div class="checkbox">
                    @Html.BootstrapCheckBox("remove", "Remove photo")
                </div>
                <input type="file" id="image" accept="image/*" class="btn btn-default" name="file"/>
            </div>
            <input type="submit" class="btn btn-default pull-left"/>
        }
    }
    <button class="btn btn-default pull-right" onclick="@Url.Action("Index")">Back to List</button>
</div>
<script>
    $(document).ready(function () {
        $('#remove').click(function () {
            var imageButton = $('#image');
            if (this.checked === true) {
                imageButton.addClass("disabled");
                imageButton.prop('disabled', true);
                this.prop('value', true);
            } else {
                imageButton.removeClass("disabled");
                imageButton.prop('disabled', false);
                this.prop('value', false);
            }
        })
    })
</script>